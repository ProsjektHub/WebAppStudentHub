<!-- By Dirkje J van der Poel -->
<!DOCTYPE html>
<html>

<head>
    <title>Registration</title>
    <!-- <link href="css/style.css" rel="stylesheet"> -->
    <link href="style.css" rel="stylesheet">
    
</head>

<body>
    <div class="login-container">
        <h2>Login</h2>

        <!-- New div for displaying the logout message -->
        <div id="logout-message"></div>

        <form action="/login" method="POST" id="login-form">
            <!-- TODO Implement the server-side logic for the login form -->
        
            <!-- Remove the username field -->
            <!-- <label for="username">Username</label>
            <input type="text" id="username" name="username" required> -->
        
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required> <!-- Change type to email -->
        
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
        
            <div class="remember-me">
                <input type="checkbox" id="remember-me" name="remember-me">
                <label for="remember-me">Remember me</label>
            </div>
        
            <button type="submit">Login</button>
        </form>
        
        <!-- End of the login form -->

        <!-- Link to the forgot password page -->
        <p><a href="/forgotPassword.html">Forgot Password?</a></p>
        
        <br> <!-- Line break -->

        <!-- Link to the registration page -->
        <p class="registration-prompt">Don't have an account? <a href="/register.html"> Sign up here</a>.</p>
    </div>

    <!-- Include jQuery library -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function() {
            // Get the query parameters from the current URL
            const urlParams = new URLSearchParams(window.location.search);
            // Get the value of the 'logged_out' parameter
            const loggedOut = urlParams.get('logged_out');

            // If 'logged_out' is true, display the logout message
            if (loggedOut) {
                $('#logout-message').text('You have been logged out successfully.');
            }
        });

             // Get the error message from the URL query parameters
             const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');
            // Display the error message if it exists
            if (error) {
                const errorMessage = document.createElement('p');
                errorMessage.textContent = error;
                document.body.appendChild(errorMessage);
                errorMessage.style.color="red";
            }
    </script>
</body>

</html>